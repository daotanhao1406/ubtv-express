{"version":3,"sources":["../../../src/config/mongdodb.ts"],"sourcesContent":["import { MongoClient, ServerApiVersion } from 'mongodb'\r\n\r\nlet ubtvDatabaseInstance = null\r\n\r\nconst mongoClientInstance = new MongoClient(process.env.MONGODB_URI || 'mongodb+srv://daotanhao9h:Xm2thlvSnb5Ebtgg@cluster-learn-be.43yr4.mongodb.net/?retryWrites=true&w=majority&appName=Cluster-learn-be', {\r\n  serverApi: {\r\n    version: ServerApiVersion.v1,\r\n    strict: true,\r\n    deprecationErrors: true\r\n  }\r\n})\r\n\r\nexport const CONNECT_DB = async () => {\r\n  await mongoClientInstance.connect()\r\n\r\n  ubtvDatabaseInstance = mongoClientInstance.db(process.env.DATABASE_NAME || 'ubtv')\r\n}\r\n\r\nexport const GET_DB = () => {\r\n  if (!ubtvDatabaseInstance) throw new Error('MongoDB connection returns undefined')\r\n  return ubtvDatabaseInstance\r\n}\r\n\r\nexport const CLOSE_DB = async () => {\r\n  await mongoClientInstance.close()\r\n}"],"names":["CLOSE_DB","CONNECT_DB","GET_DB","ubtvDatabaseInstance","mongoClientInstance","MongoClient","process","env","MONGODB_URI","serverApi","version","ServerApiVersion","v1","strict","deprecationErrors","connect","db","DATABASE_NAME","Error","close"],"mappings":";;;;;;;;;;;IAuBaA,QAAQ;eAARA;;IAXAC,UAAU;eAAVA;;IAMAC,MAAM;eAANA;;;yBAlBiC;AAE9C,IAAIC,uBAAuB;AAE3B,MAAMC,sBAAsB,IAAIC,oBAAW,CAACC,QAAQC,GAAG,CAACC,WAAW,IAAI,uIAAuI;IAC5MC,WAAW;QACTC,SAASC,yBAAgB,CAACC,EAAE;QAC5BC,QAAQ;QACRC,mBAAmB;IACrB;AACF;AAEO,MAAMb,aAAa;IACxB,MAAMG,oBAAoBW,OAAO;IAEjCZ,uBAAuBC,oBAAoBY,EAAE,CAACV,QAAQC,GAAG,CAACU,aAAa,IAAI;AAC7E;AAEO,MAAMf,SAAS;IACpB,IAAI,CAACC,sBAAsB,MAAM,IAAIe,MAAM;IAC3C,OAAOf;AACT;AAEO,MAAMH,WAAW;IACtB,MAAMI,oBAAoBe,KAAK;AACjC"}